<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Eine Frage üíå</title>

  <style>
    :root{
      --bg1:#0b1220;
      --bg2:#1a1033;
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --accent:#ff4d6d;
      --accent2:#ffb3c1;

      --shadow: 0 26px 80px rgba(0,0,0,.52);
      --shadow2: 0 18px 40px rgba(0,0,0,.35);
      --radius: 22px;
      --stroke: rgba(255,255,255,.14);
    }

    *{ box-sizing:border-box; }
    html, body { height:100%; }

    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:22px;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 12% 12%, rgba(255,77,109,.22), transparent 58%),
        radial-gradient(950px 700px at 88% 28%, rgba(255,179,193,.16), transparent 62%),
        radial-gradient(900px 900px at 55% 110%, rgba(255,255,255,.06), transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    /* Soft premium grain / starpoints */
    .glow{
      position:fixed; inset:-60px;
      background:
        radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.20), transparent 55%),
        radial-gradient(2px 2px at 70% 60%, rgba(255,255,255,.14), transparent 55%),
        radial-gradient(650px 420px at 50% 40%, rgba(255,255,255,.05), transparent 60%);
      opacity:.65;
      pointer-events:none;
      animation: drift 18s ease-in-out infinite alternate;
      mix-blend-mode: screen;
    }
    @keyframes drift{
      from { transform: translate3d(-10px,-8px,0); }
      to   { transform: translate3d(12px,10px,0); }
    }

    /* (5) Loading: card + image focus-in */
    .wrap{
      width:min(640px, 100%);
      z-index:2;
      animation: popIn .62s cubic-bezier(.2,.9,.2,1) both;
      transform-origin: 50% 60%;
    }
    @keyframes popIn{
      from{ opacity:0; transform: translateY(14px) scale(.985); filter: blur(2px); }
      to  { opacity:1; transform:none; filter: blur(0); }
    }

    .card{
      position:relative;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      backdrop-filter: blur(18px) saturate(120%);
      -webkit-backdrop-filter: blur(18px) saturate(120%);
      overflow:hidden;
    }

    /* Premium sheen */
    .card::after{
      content:"";
      position:absolute; left:-40%; top:-70%;
      width:140%; height:140%;
      background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,.10) 50%, transparent 60%);
      transform: rotate(10deg);
      opacity:.22;
      animation: sheen 7.2s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes sheen{
      0%{ transform: translateX(-20%) rotate(10deg); opacity:.10; }
      35%{ opacity:.24; }
      55%{ transform: translateX(20%) rotate(10deg); opacity:.18; }
      100%{ transform: translateX(20%) rotate(10deg); opacity:.10; }
    }

    .header{
      padding:26px 26px 12px;
      display:flex;
      gap:14px;
      align-items:flex-start;
      position:relative;
      z-index:1;
    }

    .badge{
      width:46px; height:46px;
      border-radius:14px;
      background:linear-gradient(135deg, rgba(255,77,109,.9), rgba(255,179,193,.55));
      display:grid; place-items:center;
      box-shadow:0 14px 34px rgba(255,77,109,.22);
      border:1px solid rgba(255,255,255,.16);
      flex:0 0 auto;
    }

    h1{
      margin:0;
      font-size: clamp(22px, 4.8vw, 32px);
      letter-spacing:-.03em;
      line-height:1.16;
    }

    .sub{
      margin:10px 0 0;
      color:var(--muted);
      font-size:clamp(14px,3.6vw,16px);
      line-height:1.55;
    }

    .content{ padding:10px 26px 24px; position:relative; z-index:1; }

    .divider{
      height:1px;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent);
      margin:14px 0 18px;
    }

    .question{
      margin:0 0 6px;
      font-size:clamp(16px,4vw,18px);
      color:rgba(255,255,255,.86);
    }

    .nameLine{
      margin:0 0 12px;
      font-size: clamp(18px,4.8vw,22px);
      font-weight:650;
      letter-spacing:-.01em;
    }
    .accent{ color:var(--accent2); text-shadow: 0 10px 30px rgba(255,179,193,.10); }

    /* (1) Photo: premium portrait card */
    .photoWrap{
      display:flex;
      justify-content:center;
      margin:12px 0 20px;
      position:relative;
      isolation:isolate;
      animation: focusIn .85s cubic-bezier(.2,.9,.2,1) both;
      animation-delay: .12s;
    }
    @keyframes focusIn{
      from{ opacity:0; transform: translateY(8px) scale(.985); filter: blur(2px); }
      to{ opacity:1; transform:none; filter: blur(0); }
    }

    /* soft glow behind image */
    .photoWrap::before{
      content:"";
      position:absolute;
      width:min(240px, 64vw);
      aspect-ratio: 3/4;
      border-radius: 22px;
      background: radial-gradient(280px 240px at 30% 20%, rgba(255,179,193,.22), transparent 60%),
                  radial-gradient(280px 240px at 70% 80%, rgba(255,77,109,.18), transparent 60%);
      filter: blur(14px);
      opacity:.9;
      z-index:0;
      transform: translateY(6px);
      pointer-events:none;
    }

    .photoFrame{
      width:min(230px, 62vw);
      aspect-ratio:3/4;
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      box-shadow: 0 22px 60px rgba(0,0,0,.50);
      overflow:hidden;
      position:relative;
      z-index:1;
    }

    /* subtle vignette + highlight */
    .photoFrame::after{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(120% 100% at 50% 10%, rgba(255,255,255,.10), transparent 55%),
        radial-gradient(120% 120% at 50% 60%, transparent 55%, rgba(0,0,0,.28) 100%);
      pointer-events:none;
    }

    .photo{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      filter: saturate(1.05) contrast(1.03);
      transform: scale(1.01);
    }

    .buttons{
      position:relative;
      height:110px;
      display:flex;
      align-items:center;
      gap:14px;
      justify-content:flex-start;
      touch-action: manipulation;
    }

    .btn{
      padding:14px 18px;
      border-radius:14px;
      font-weight:650;
      font-size:16px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.08);
      color:var(--text);
      cursor:pointer;
      box-shadow:var(--shadow2);
      -webkit-tap-highlight-color: transparent;
      user-select:none;
      transition: transform .14s ease, filter .14s ease, background .2s ease, border-color .2s ease;
      position:relative;
      overflow:hidden;
    }
    .btn:hover{
      border-color: rgba(255,255,255,.20);
      background: rgba(255,255,255,.10);
      transform: translateY(-1px);
    }
    .btn:active{ transform: scale(.985); filter: brightness(.98); }

    .btn-primary{
      background:linear-gradient(135deg, rgba(255,77,109,.95), rgba(255,179,193,.7));
      border-color:rgba(255,77,109,.35);
      color:#160812;
      box-shadow: 0 18px 48px rgba(255,77,109,.22);
    }
    .btn-primary::after{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(260px 120px at 20% 20%, rgba(255,255,255,.22), transparent 55%);
      opacity:.6;
      pointer-events:none;
    }

    /* (4) Reduced motion support = premium */
    @media (prefers-reduced-motion: reduce){
      .glow{ animation:none; }
      .wrap{ animation:none; }
      .photoWrap{ animation:none; }
      .card::after{ animation:none; }
      .sparkle{ display:none; }
    }

    /* start position: (as you wanted) more to the right */
    #no{
      position:absolute;
      left:280px; /* further right */
      top:0;
      transition:left .18s cubic-bezier(.2,.9,.2,1), top .18s cubic-bezier(.2,.9,.2,1), transform .18s ease;
      background: rgba(255,255,255,.08);
    }

    .hint{
      margin-top:10px;
      font-size:13px;
      color:rgba(255,255,255,.55);
      min-height:18px;
    }

    .footer{
      padding:14px 26px 22px;
      font-size:12.5px;
      color:rgba(255,255,255,.55);
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      border-top:1px solid rgba(255,255,255,.08);
      background: linear-gradient(180deg, transparent, rgba(0,0,0,.22));
      position:relative;
      z-index:1;
    }

    @media (max-width:440px){
      .buttons{ height:150px; }
      #no{ left:170px; top:70px; }
    }

    /* (2) Premium pulse on Yes */
    .pulse{
      position:fixed; inset:0;
      background: radial-gradient(420px 320px at var(--x) var(--y),
        rgba(255,77,109,.26), transparent 60%);
      pointer-events:none;
      opacity:0;
      animation: pulse 650ms ease-out forwards;
      mix-blend-mode: screen;
      z-index: 40;
    }
    @keyframes pulse{
      from{ opacity:0; }
      35%{ opacity:1; }
      to{ opacity:0; }
    }

    /* (2) Mini confetti / sparkles canvas */
    canvas#sparkle {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 45;
    }
  </style>
</head>

<body>
  <div class="glow"></div>
  <canvas id="sparkle"></canvas>

  <main class="wrap">
    <section class="card" id="card">
      <div class="header">
        <div class="badge">üíå</div>
        <div>
          <h1>Eine kleine Frage:</h1>
          <p class="sub">Sei ganz ehrlich </p>
        </div>
      </div>

      <div class="content">
        <div class="divider"></div>

        <p class="question">Darf ich dich fragen:</p>
        <p class="nameLine">
          Willst du mein <span class="accent">Valentin</span> sein,
          <span class="accent">Alejna</span>?
        </p>

        <!-- (1) Premium photo block -->
        <div class="photoWrap">
          <div class="photoFrame">
            <img src="alejna.jpg" alt="Alejna" class="photo">
          </div>
        </div>

        <div class="buttons" id="arena">
          <button class="btn btn-primary" id="yes">Ja</button>
          <button class="btn" id="no">Nein</button>
        </div>

        <div class="hint" id="hint"></div>
      </div>

      <div class="footer">
        <span>üíó Nur f√ºr dich</span>
        <span style="opacity:.75;">Ich wei√ü du bist sch√ºchtern, dr√ºck Nein .</span>
      </div>
    </section>
  </main>

  <script>
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const arena = document.getElementById("arena");
    const hint = document.getElementById("hint");
    const card = document.getElementById("card");

    // (4) Haptics
    function haptic(ms){
      if (navigator.vibrate) navigator.vibrate(ms);
    }
    function clamp(v,min,max){ return Math.max(min, Math.min(max,v)); }

    // (2) Pulse
    function spawnPulse(x, y){
      const p = document.createElement("div");
      p.className = "pulse";
      p.style.setProperty("--x", (x ?? window.innerWidth/2) + "px");
      p.style.setProperty("--y", (y ?? window.innerHeight/2) + "px");
      document.body.appendChild(p);
      setTimeout(()=>p.remove(), 700);
    }

    // (2) Mini sparkles engine (small, premium, short)
    const canvas = document.getElementById("sparkle");
    const ctx = canvas.getContext("2d");
    let particles = [];

    function resize(){
      const dpr = window.devicePixelRatio || 1;
      canvas.width = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor(window.innerHeight * dpr);
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    window.addEventListener("resize", resize);
    resize();

    function burstSparkles(x, y){
      const count = 70; // mini, not clowny
      for(let i=0;i<count;i++){
        const a = Math.random() * Math.PI * 2;
        const sp = 2.2 + Math.random()*4.2;
        particles.push({
          x, y,
          vx: Math.cos(a)*sp,
          vy: Math.sin(a)*sp - 1.0,
          g: 0.10 + Math.random()*0.05,
          s: 1.8 + Math.random()*2.6,
          r: Math.random()*Math.PI*2,
          vr: (Math.random()*2-1)*0.18,
          life: 55 + Math.random()*25,
          a: 1
        });
      }
    }

    function tick(){
      ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
      particles = particles.filter(p => p.life > 0 && p.a > 0.03);

      for(const p of particles){
        p.life -= 1;
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.r += p.vr;
        p.a *= 0.982;

        ctx.save();
        ctx.globalAlpha = p.a * 0.9;
        ctx.translate(p.x, p.y);
        ctx.rotate(p.r);
        // premium: white spark rectangles (no rainbow)
        ctx.fillStyle = "rgba(255,255,255,0.95)";
        ctx.fillRect(-p.s/2, -p.s/2, p.s, p.s*1.8);
        ctx.restore();
      }

      requestAnimationFrame(tick);
    }
    tick();

    // (3) Smart-away "No" (moves away from pointer, not random)
    let tries = 0;

    function setHint(t){ hint.textContent = t; }

    function moveNoSmart(e){
      tries++;

      // keep your insider texts unchanged
      if (tries === 1) setHint("H√∂r auf HAHAHAHAHAH ");
      if (tries === 2) setHint("Was machst du mit mir?");
      if (tries === 3) setHint("Das Crazy was du machst");
      if (tries >= 4) setHint("OK REICHT, DR√úCK EINFACH JA");

      const a = arena.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      const maxX = a.width - b.width;
      const maxY = a.height - b.height;

      const px = (e?.clientX ?? (a.left + a.width/2)) - a.left;
      const py = (e?.clientY ?? (a.top  + a.height/2)) - a.top;

      const curL = parseFloat(noBtn.style.left || (window.innerWidth <= 440 ? "170" : "280"));
      const curT = parseFloat(noBtn.style.top  || (window.innerWidth <= 440 ? "70"  : "0"));

      let dx = curL - px;
      let dy = curT - py;

      // if too close, choose a direction
      if (Math.abs(dx) < 60) dx = (Math.random() < 0.5 ? -1 : 1) * 160;
      if (Math.abs(dy) < 45) dy = (Math.random() < 0.5 ? -1 : 1) * 120;

      const stepX = 190;
      const stepY = 120;

      const newL = clamp(curL + Math.sign(dx) * stepX, 0, maxX);
      const newT = clamp(curT + Math.sign(dy) * stepY, 0, maxY);

      noBtn.style.left = newL + "px";
      noBtn.style.top  = newT + "px";

      // subtle shrink escalation (still premium)
      const shrink = Math.max(0.88, 1 - tries*0.03);
      noBtn.style.transform = `scale()`;

      haptic(10);
    }

    noBtn.addEventListener("pointermove", moveNoSmart);
    noBtn.addEventListener("pointerdown", (e) => { e.preventDefault(); moveNoSmart(e); });
    noBtn.addEventListener("mouseover", moveNoSmart);

    // (2) Yes: pulse + mini sparkles + haptic + (keeps your second page text unchanged)
    yesBtn.addEventListener("click", (e) => {
      const x = e?.clientX ?? window.innerWidth/2;
      const y = e?.clientY ?? window.innerHeight/2;

      spawnPulse(x,y);
      burstSparkles(x,y);
      haptic(18);

      card.innerHTML = `
        <div class="header">
          <div class="badge">üíñ</div>
          <div>
            <h1>Ich wusste es.</h1>
            <p class="sub">Offiziel du geh√∂rst mir</p>
          </div>
        </div>

        <div class="content">
          <div class="divider"></div>

          <p class="nameLine" style="margin-bottom:10px;">
            Dann ist es offiziell: <span class="accent">Happy Valentine‚Äôs</span> ‚ù§Ô∏è
          </p>

          <p class="sub" style="margin:0 0 18px;">
            Sag einfach das du mich liebst
          </p>

          <button class="btn btn-primary" id="okBtn" style="width:100%;">‚ù§Ô∏è</button>
          <div class="hint" style="margin-top:10px;">(L√§chel mal und schick Foto HAHAHAHHAHAH)</div>
        </div>

        <div class="footer">
          <span>üíó Team ‚ÄûJa‚Äú</span>
          <span style="opacity:.75;">‚Äî Wir sind ein Team</span>
        </div>
      `;

      const okBtn = document.getElementById("okBtn");
      okBtn?.addEventListener("click", () => {
        okBtn.textContent = "‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è";
        haptic(10);
        burstSparkles(window.innerWidth/2, window.innerHeight/2);
      });
    });
  </script>
</body>
</html>